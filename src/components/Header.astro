---
import Clock from "../components/Clock.astro";
import Nav from "../components/Nav.astro";
---

<header
  class="items-top flex w-full flex-col justify-between gap-4 p-[var(--margin)] text-pretty lg:flex-col"
>
  <div class="flex flex-row justify-between gap-4">
    <div class="flex flex-col items-start gap-2">
      <h1 class="heading-1 w-auto text-balance">
        Graduate Studio: Technology A
        <Clock />
      </h1>
      <Nav />
    </div>
    <div class="hidden md:block">
      <h2>
        <a href="https://www.pratt.edu/design/graduate-communications-design/"
          >Pratt Grad ComD</a
        >
      </h2>
      <h2>DES 720A</h2>
    </div>
  </div>
</header>

<script>
  import { gsap } from "gsap";
  import { ScrollTrigger } from "gsap/ScrollTrigger";

  gsap.registerPlugin(ScrollTrigger);

  const elements = document.querySelectorAll(
    "header h1, header h2, .clock-container",
  );

  gsap.to(elements, {
    // Animate CSS variable from 1 to 0.5 (scale down by half)
    "--font-scale": 0.3,
    ease: "none",
    scrollTrigger: {
      trigger: document.body,
      start: "top top",
      end: "20% top",
      scrub: true,
    },
  });
</script>
